<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>friends/insertform.html</title>
<link rel="stylesheet" href="../resource/css/bootstrap.css" />
</head>
<body>

<div class="container">
	<h3>회원 정보 추가 폼 입니다.</h3>
	<form action="insert.jsp" method="post" id="insertform">
		<label for="name" class="control-label">이름</label>
		<input type="text" name="name" id="name" class="myTooltip form-control" title="이름입력" data-placement="bottom"/>
		<div class="form-group has-feedback">
			<label for="phone" class="control-label">전화번호</label>
			<input type="text" name="phone" id="phone" class="myTooltip form-control" title="000-000-0000 이 형식으로 입력" data-placement="bottom"/>
			<span class="glyphicon glyphicon-ok form-control-feedback"></span>
			<p class="help-block">전화번호 형식에 맞게 입력</p>
		</div>
		<div class="form-group has-feedback">
			<label for="email" class="control-label">이메일</label>
			<input type="text" name="email" id="email" class="myTooltip form-control" title="이메일 형식으로 입력" data-placement="bottom"/>
			<span class="glyphicon glyphicons-message-full form-control-feedback"></span>
			<p class="help-block">이메일 형식에 맞게 입력</p>
		</div>
		<br/><button type="submit" class="btn btn-primary">추가</button>
	</form>
</div>

<script src="../resource/js/jquery-3.2.0.js"></script>
<script src="../resource/js/bootstrap.js"></script>	
<script>
	$(".myTooltip").tooltip();
	
	/* 전화번호 형태 : 전화번호 형태 000-0000-0000 만 받는다. ] */
	var reg_phone = /^[0-9]{2,3}-[0-9]{3,4}-[0-9]{4}$/;
	
	/*  이메일 형식만 가능 */
	var reg_email = /^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/;
	
	//form에 submit 이벤트가 일어났을때 실행할 함수 등록
	$("#insertform").on("submit",function(){
		console.log("submit!");

		// 1. 입력한 phone 값을 읽어온다.
		var inputPhone = $("#phone").val();

		// 2. 정규표현식에 매칭 되는지 여부를 알아낸다.
		var result = reg_phone.test(inputId); // 이 위치에 들어오는 데이터는 true or false

		// 3. 만일 매칭되지 않으면 return false 를 만나게 된다.
		if(result==false){
			alert("전화번호 형식을 확인 하세요!!");
			$("#phone").focus(); // input 요소에 focus가 알아서 가게
			return false; // 제출 되는걸 막아주는 것.
			//form에 submit 이벤트가 일어났을때 실행할 함수안에서 return faluse 만나면 제출되는것이 막아져
		}
	});
	
	
</script>

</body>
</html>